<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [SimpleCryptoSignature][1]
    -   [Parameters][2]
    -   [Examples][3]
    -   [safeSign][4]
        -   [Parameters][5]
        -   [Examples][6]
    -   [sign][7]
        -   [Parameters][8]
        -   [Examples][9]
    -   [safeVerify][10]
        -   [Parameters][11]
        -   [Examples][12]
    -   [verify][13]
        -   [Parameters][14]
        -   [Examples][15]
-   [safeSignCallback][16]
    -   [Parameters][17]
-   [safeVerifyCallback][18]
    -   [Parameters][19]

## SimpleCryptoSignature

Class representing SimpleCryptoSignature libary.

### Parameters

-   `options` **[Object][20]** , Options to configure SimpleCryptoSignature
    -   `options.privateKeyPath` **[String][21]** , Path to private key, used for signing (optional, default `null`)
    -   `options.publicKeyPath` **[String][21]** , Path to public key, used for verifying (optional, default `null`)
    -   `options.privateKey` **[String][21]** , You can also pass the private key string value instead of private key path
    -   `options.publicKey` **[String][21]** , You can also pass the public key string value instead of public key path
    -   `options.passPhrase` **[String][21]** , The pass phrase used for the private key, if not passed it assumes the private key does not use a pass phrase
    -   `options.signatureFormat` **[String][21]** , The output of signature format - `hex` \| `base64`(default) (optional, default `SIGN_FORMAT`)
    -   `options.signatureAlgorithm` **[String][21]** , Algo to use to sign the payload  - `sha256` (default) | `md5` \| `DSA` ... see `crypto.getHashes()` for all the algorithms supported by NodeJS crypto library (optional, default `SIGN_ALGO`)

### Examples

```javascript
const defaultOptions = {
  privateKeyPath: path.join(__dirname, 'private.pem'),
  publicKeyPath: path.join(__dirname, 'public.pem'),
  passPhrase: 'secret-passphrase-done-right'
};
const signatureGenerator = new SimpleCryptoSignature(defaultOptions);
```

### safeSign

This function creates a signature for the hash of the input 'messageString' payload
using the private key and the hashing algorithm specified at the time of creation of
SimpleCryptoSignature instance object.
This also handles any error without you explicitly writing a try/catch
block

#### Parameters

-   `messageString` **[String][21]** the input string
-   `done` **[safeSignCallback][22]** the callback function that handles error or signed value

#### Examples

```javascript
const message = 'test-this-the-payload-that-needs-to-be-signed';
let signedValue;
signatureGenerator.sign(message, function(err, sign){
     if(!err) {
         signedValue = sign
     }
});
console.log(signedValue);
```

Returns **[String][21]** signature in the format specified

### sign

This function creates a signature for the hash of the input 'messageString' payload
using the private key and the hashing algorithm specified at the time of creation of
SimpleCryptoSignature instance object.
Note: If signing fails, it will throw an Error. Always use a try/catch
block.

#### Parameters

-   `messageString` **[String][21]** the input string

#### Examples

```javascript
const message = 'test-this-the-payload-that-needs-to-be-signed';
let signedValue;
try {
     signedValue = signatureGenerator.sign(message);
}
catch(err) {
     // remember to handle error here
}
console.log(signedValue);
```

Returns **[String][21]** signature in the format specified

### safeVerify

This function can be used to verify if the signature ('signatureStirngHex')
is valid for the given input 'messageString' payload. This uses the Public
key and algorithm specified at the time of creation of
SimpleCryptoSignature instance object

#### Parameters

-   `messageString` **[String][21]** , the actual payload string that was signed
-   `signatureStringHex` **[String][21]** , the signature that needs to be verified
-   `done` **[safeVerifyCallback][23]** the callback function that handles error or signed value

#### Examples

```javascript
const message = 'test-this-string';
signatureGenerator = new SimpleCryptoSignature(defaultOptions);
const signedValue = signatureGenerator.sign(message);
signatureGenerator.safeVerify(message, signedValue, function(err, isVerified){
     if(!err) {
         verifiedValue = isVerified;
     }
});
expect(verifiedValue).toEqual(true);
```

Returns **[boolean][24]** 

### verify

This function can be used to verify if the signature ('signatureStirngHex')
is valid for the given input 'messageString' payload. This uses the Public
key and algorithm specified at the time of creation of
SimpleCryptoSignature instance object
Note: If verify fails, it might throw an Error. Always use a try/catch
block.

#### Parameters

-   `messageString` **[String][21]** , the actual payload string that was signed
-   `signatureStringHex` **[String][21]** , the signature that needs to be verified

#### Examples

```javascript
const message = 'test-this-string';
signatureGenerator = new SimpleCryptoSignature(defaultOptions);
const signedValue = signatureGenerator.sign(message);
let verifiedValue;
try {
     verifiedValue = signatureGenerator.verify(message, signedValue);
}
catch(err){
     // remember to handle error
}
expect(verifiedValue).toEqual(true);
```

Returns **[boolean][24]** 

## safeSignCallback

Type: [Function][25]

### Parameters

-   `error` **[Error][26]** , the acual error thrown while creating a signature
-   `SignatureString` **[String][21]** , signature in the format specified

## safeVerifyCallback

Type: [Function][25]

### Parameters

-   `error` **[Error][26]** , the acual error thrown while verifying a signature
-   `isVerified` **[boolean][24]** , if the signature is verified

[1]: #simplecryptosignature

[2]: #parameters

[3]: #examples

[4]: #safesign

[5]: #parameters-1

[6]: #examples-1

[7]: #sign

[8]: #parameters-2

[9]: #examples-2

[10]: #safeverify

[11]: #parameters-3

[12]: #examples-3

[13]: #verify

[14]: #parameters-4

[15]: #examples-4

[16]: #safesigncallback

[17]: #parameters-5

[18]: #safeverifycallback

[19]: #parameters-6

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[22]: #safesigncallback

[23]: #safeverifycallback

[24]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[25]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error
